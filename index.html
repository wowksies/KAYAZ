<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAYAZ | Profile</title>
    <script src="https://cdn.jsdelivr.net/npm/ogl@0.0.49/dist/ogl.umd.js"></script>
    <link rel="stylesheet" type='text/css' href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
    <style>
        /* --- FONTS --- */
        @font-face {
            font-family: 'SuperMario256';
            src: url('fonts/super-mario-256.woff2') format('woff2'); /* Ensure this file exists or remove this block */
            font-weight: normal;
            font-style: normal;
        }

        /* --- GLOBAL & RESET --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            height: 100%; width: 100%;
            overflow: hidden;
            font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
            background-color: #050000;
            color: white;
        }

        /* --- BACKGROUND PARTICLES --- */
        #particles-bg {
            position: fixed; top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: 0; pointer-events: none;
        }

        /* --- VISUALIZER (Glass & Full Width) --- */
        #visualizer {
            position: fixed;
            bottom: 0; left: 0;
            width: 100%; height: 30vh;
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            z-index: 1;
            pointer-events: none;
            padding: 0 10px;
        }

        .bar {
            width: 100%; /* Will be calculated in JS, but this ensures flex fit */
            margin: 0 2px;
            /* Glass Effect Gradient */
            background: linear-gradient(to top, rgba(100, 0, 0, 0.1), rgba(255, 0, 0, 0.6));
            border-top: 2px solid rgba(255, 100, 100, 0.5);
            border-radius: 5px 5px 0 0;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.2);
            backdrop-filter: blur(2px);
            transition: height 0.05s ease;
        }

        /* --- MAIN CONTAINER --- */
        .profile-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            z-index: 5;
        }

        /* --- GLASS CARD --- */
        .glass-card {
            position: relative;
            background: rgba(20, 5, 5, 0.65);
            box-shadow: 0 8px 32px 0 rgba(255, 0, 0, 0.15), inset 0 0 0 1px rgba(255, 0, 0, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 40px;
            width: 380px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.1s;
        }

        /* --- PROFILE PICTURE --- */
        .profile-picture {
            width: 120px; height: 120px;
            margin-bottom: 15px;
            perspective: 600px;
        }
        .profile-picture img {
            width: 100%; height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgba(255, 50, 50, 0.8);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
        }
        .profile-picture.tilt { transition: transform 0.1s cubic-bezier(.25,.8,.25,1); }

        /* --- TEXT --- */
        .shiny-text {
            font-family: 'SuperMario256', sans-serif; /* Fallback will happen if font file missing */
            font-size: 2.5rem;
            font-weight: 900;
            text-align: center;
            background: linear-gradient(120deg, #888 0%, #fff 50%, #888 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        /* --- STATUS BOX --- */
        .status-card {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 0, 0, 0.2);
            border-radius: 12px;
            padding: 10px;
            width: 100%;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        .status-avatar {
            width: 35px; height: 35px; border-radius: 50%;
            border: 2px solid #a00;
        }
        .status-avatar.spin { animation: spin 4s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        .status-info { flex: 1; overflow: hidden; }
        .status-name { font-weight: bold; font-size: 0.9rem; color: #fff; }
        .status-text { font-size: 0.8rem; color: #ccc; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* --- SKILLS SECTION --- */
        .skills-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.03);
            padding: 8px 15px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .skills-container i {
            font-size: 1.5rem;
            transition: transform 0.2s, color 0.2s;
            cursor: help;
        }
        /* Devicon Colors manually overridden for consistency or pop */
        .devicon-html5-plain { color: #e34f26; }
        .devicon-css3-plain { color: #1572b6; }
        .devicon-javascript-plain { color: #f7df1e; }
        .devicon-python-plain { color: #3776ab; }
        .devicon-cplusplus-plain { color: #00599C; }
        
        .skills-container i:hover { transform: scale(1.2); filter: drop-shadow(0 0 5px currentColor); }

        /* --- SOCIAL ICONS (Fixed) --- */
        .social-icons { display: flex; gap: 15px; justify-content: center; margin-bottom: 20px; }
        .social-btn {
            width: 42px; height: 42px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .social-btn svg { width: 22px; height: 22px; fill: #ddd; transition: fill 0.2s; }
        
        .social-btn:hover {
            background: rgba(255, 0, 0, 0.2);
            border-color: #ff0000;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
            transform: translateY(-3px);
        }
        .social-btn:hover svg { fill: #fff; }

        /* --- BUTTONS (Gallery) --- */
        .action-btn {
            width: 100%;
            padding: 10px;
            background: linear-gradient(90deg, #5c0000, #8a0000);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            display: flex; align-items: center; justify-content: center; gap: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .action-btn:hover { background: linear-gradient(90deg, #7a0000, #a30000); transform: translateY(-2px); }

        /* --- SIDE PANEL (Stats/Quote) --- */
        .side-arrow {
            position: absolute; right: -50px; top: 50%; transform: translateY(-50%);
            background: #5c0000; color: white; border: 2px solid #ff4d4d;
            width: 40px; height: 40px; border-radius: 50%;
            cursor: pointer; z-index: 10; display: flex; align-items: center; justify-content: center;
        }
        .side-panel {
            position: absolute; right: -280px; top: 50%; transform: translateY(-50%);
            width: 200px; background: rgba(0,0,0,0.9); border: 1px solid #ff0000;
            padding: 15px; border-radius: 10px; color: #fff; opacity: 0; pointer-events: none;
            transition: all 0.3s;
        }
        .side-panel.active { right: -220px; opacity: 1; pointer-events: auto; }

        /* --- MUSIC PLAYER --- */
        .music-wrapper {
            position: fixed; top: 30px; left: 30px; z-index: 50;
        }
        .music-btn {
            width: 50px; height: 50px; border-radius: 50%;
            background: rgba(10, 0, 0, 0.9); border: 2px solid #ff0000;
            color: white; display: flex; align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
            transition: all 0.3s;
            position: relative; z-index: 52;
        }
        .music-btn.playing { animation: pulseRed 2s infinite; }
        @keyframes pulseRed { 0% {box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);} 70% {box-shadow: 0 0 0 15px rgba(255, 0, 0, 0);} 100% {box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);} }

        /* Volume Slider Compartment */
        .volume-container {
            position: absolute; left: 25px; top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.85);
            border: 1px solid #ff0000;
            padding: 10px 10px 10px 35px; /* Padding left for button overlap */
            border-radius: 0 20px 20px 0;
            width: 0;
            opacity: 0;
            overflow: hidden;
            transition: all 0.4s ease;
            z-index: 51;
            pointer-events: none;
        }
        
        .music-wrapper:hover .volume-container, 
        .volume-container.force-show {
            width: 160px;
            opacity: 1;
            pointer-events: auto;
        }

        input[type=range] { width: 100%; accent-color: #ff0000; cursor: pointer; }

        /* --- SCREENSHOT GALLERY MODAL --- */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 2000;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
            backdrop-filter: blur(5px);
        }
        .modal.open { opacity: 1; pointer-events: auto; }
        
        .gallery-content {
            position: relative; max-width: 90%; max-height: 90%;
            display: flex; flex-direction: column; align-items: center;
        }
        .gallery-img {
            max-width: 80vw; max-height: 70vh;
            border: 2px solid #ff0000; border-radius: 10px;
            box-shadow: 0 0 30px rgba(255,0,0,0.3);
        }
        .gallery-controls {
            margin-top: 20px; display: flex; gap: 20px;
        }
        .g-btn {
            background: transparent; border: 1px solid #ff4d4d; color: white;
            padding: 10px 20px; cursor: pointer; border-radius: 5px;
            transition: 0.2s;
        }
        .g-btn:hover { background: #ff4d4d; color: black; }
        .close-modal {
            position: absolute; top: 20px; right: 20px; font-size: 2rem;
            color: white; cursor: pointer; z-index: 2001;
        }

        /* --- ENTER OVERLAY --- */
        .enter-overlay {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 0.5s;
        }
        .enter-overlay.hide { opacity: 0; pointer-events: none; }
        .enter-btn {
            padding: 15px 40px; border: 2px solid #ff0000; color: #fff;
            font-size: 1.5rem; font-family: sans-serif; cursor: pointer;
            border-radius: 50px; box-shadow: 0 0 20px rgba(255, 0, 0, 0.4);
            background: transparent; transition: 0.2s;
        }
        .enter-btn:hover { background: rgba(255,0,0,0.1); transform: scale(1.05); }

        /* BG Text */
        .bg-text {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 15vw; color: #300000; opacity: 0.3; z-index: 0; pointer-events: none;
            font-weight: 900;
        }
    </style>
</head>
<body>

    <div id="particles-bg"></div>
    
    <div class="bg-text">KAYAZ</div>

    <div id="visualizer"></div>

    <div class="profile-container">
        
        <div class="glass-card">
            
            <div class="profile-picture" id="pfp-3d">
                <img id="discord-pfp" src="https://cdn.discordapp.com/embed/avatars/0.png" alt="PFP" />
            </div>

            <div class="shiny-text">KAYAZ</div>

            <div class="status-card">
                <img id="status-icon" class="status-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png" alt="" />
                <div class="status-info">
                    <div class="status-name" id="status-username">Loading...</div>
                    <div class="status-text" id="status-text">Fetching data...</div>
                </div>
            </div>

            <div class="skills-container">
                <i class="devicon-html5-plain" title="HTML5"></i>
                <i class="devicon-css3-plain" title="CSS3"></i>
                <i class="devicon-javascript-plain" title="JavaScript"></i>
                <i class="devicon-python-plain" title="Python"></i>
                <i class="devicon-cplusplus-plain" title="C++"></i>
            </div>

            <div class="social-icons">
                <a href="https://discord.com/users/747411610389446747" target="_blank" class="social-btn" title="Discord">
                   <svg viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037 14.168 14.168 0 0 0-.64 1.31 18.29 18.29 0 0 0-5.712 0 14.17 14.17 0 0 0-.64-1.31.074.074 0 0 0-.079-.037 19.793 19.793 0 0 0-4.885 1.515.069.069 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.081.081 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.076.076 0 0 0-.04.106c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
                </a>
                <a href="https://www.roblox.com/users/1728947656/profile" target="_blank" class="social-btn" title="Roblox">
                     <svg viewBox="0 0 24 24"><path d="M5.042 0A5.04 5.04 0 0 0 0 5.042v13.916A5.04 5.04 0 0 0 5.042 24h13.916A5.04 5.04 0 0 0 24 18.958V5.042A5.04 5.04 0 0 0 18.958 0H5.042zm3.435 7.15c.677-.168 1.487.27 1.62.964l1.107 5.756c.148.77-.367 1.503-1.127 1.606-.76.102-1.464-.42-1.611-1.19l-1.108-5.756c-.133-.693.442-1.213 1.12-1.38z"/></svg>
                </a>
                <a href="https://www.tiktok.com/@k.a.yaz" target="_blank" class="social-btn" title="TikTok">
                    <svg viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93v6.16c0 2.52-1.12 4.84-2.9 6.15-2.23 1.64-5.19 1.69-7.49.13-2.19-1.48-3.22-4.2-2.55-6.96.55-2.29 2.39-4.09 4.7-4.66 1.28-.31 2.63-.16 3.85.24V13.5c-.84-.52-1.89-.72-2.87-.46-1.32.36-2.29 1.46-2.45 2.8-.16 1.34.61 2.65 1.78 3.25 1.27.65 2.87.4 3.99-.48 1.05-.83 1.67-2.12 1.67-3.48-.02-4.52-.02-9.04 0-13.56-.02-.21-.13-.42-.2-.61h-2.16v.02z"/></svg>
                </a>
                <a href="https://stats.cc/siege/KAYAZ.CTRL/29032a28-cbf4-444a-ad19-3413761f3710" target="_blank" class="social-btn" title="R6 Siege">
                     <svg viewBox="0 0 24 24"><path d="M12 0L2.1 4.5l2.6 15.2L12 24l7.3-4.3 2.6-15.2L12 0zm0 2.2l7.5 3.4-2 11.6L12 20.9l-5.5-3.7-2-11.6L12 2.2z"/></svg>
                </a>
            </div>

            <button class="action-btn" id="open-gallery-btn">
                <span>ðŸ“· View Screenshots</span>
            </button>
        </div>

        <div id="side-arrow" class="side-arrow">&#8594;</div>
        <div id="side-panel" class="side-panel">
            You mess with the Mister, you get the Sigma
        </div>

    </div>

    <div class="music-wrapper" id="music-wrapper">
        <div class="music-btn" id="music-toggle">ðŸŽµ</div>
        <div class="volume-container" id="volume-container">
            <input type="range" id="music-volume" min="0" max="1" step="0.01" value="0.5" />
        </div>
    </div>
    <audio id="bg-music" src="music.mp3" loop></audio>

    <div id="enter-overlay" class="enter-overlay">
        <button class="enter-btn" id="enter-btn">CLICK TO ENTER</button>
    </div>

    <div class="modal" id="gallery-modal">
        <div class="close-modal" id="close-gallery">&times;</div>
        <div class="gallery-content">
            <img src="" alt="Screenshot" class="gallery-img" id="current-img">
            <div class="gallery-controls">
                <button class="g-btn" id="prev-img">&#10094; Prev</button>
                <button class="g-btn" id="next-img">Next &#10095;</button>
            </div>
            <p style="margin-top:10px; color:#aaa; font-size:0.9rem;">(Add links in JS code)</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            /* ===============
               CONFIGURATION
               ===============
            */
            const userId = "747411610389446747"; // Lanyard ID
            
            // ADD YOUR SCREENSHOT LINKS HERE
            // Browsers cannot access local folders for security. You must host images or use URLs.
            const screenshots = [
                "https://cdn.discordapp.com/attachments/1459215420916760753/1459645704141013119/togif.gif?ex=6968a5be&is=6967543e&hm=5f8b87ebcd8909b95f78508b3b3b44dedb320f9e6671cf7a9fc0c33591522943&", // Placeholder 1
                
            ];

            /* --- AUDIO SETUP --- */
            const bgMusic = document.getElementById('bg-music');
            const musicBtn = document.getElementById('music-toggle');
            const musicVolume = document.getElementById('music-volume');
            const volumeContainer = document.getElementById('volume-container');
            const musicWrapper = document.getElementById('music-wrapper');
            let audioCtx, analyser, dataArray, bufferLength;
            let musicOn = false;
            let hideVolumeTimeout;

            // Enter Button Logic
            document.getElementById('enter-btn').addEventListener('click', () => {
                document.getElementById('enter-overlay').classList.add('hide');
                initAudio(); // Start context
                bgMusic.volume = 0.5;
                bgMusic.play().then(() => {
                    musicOn = true;
                    musicBtn.classList.add('playing');
                }).catch(e => console.log("Audio play failed:", e));
            });

            // Init Audio & Visualizer
            function initAudio() {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                if (!AudioContext) return;
                
                audioCtx = new AudioContext();
                analyser = audioCtx.createAnalyser();
                analyser.fftSize = 256; // Higher number = more bars
                
                const source = audioCtx.createMediaElementSource(bgMusic);
                source.connect(analyser);
                analyser.connect(audioCtx.destination);

                bufferLength = analyser.frequencyBinCount;
                dataArray = new Uint8Array(bufferLength);
                
                // Create bars dynamically to fill screen
                const visualizer = document.getElementById("visualizer");
                visualizer.innerHTML = '';
                
                // We limit bars to ~64 for performance and aesthetics, ensuring they fill width
                const displayBars = 64; 
                for (let i = 0; i < displayBars; i++) {
                    const bar = document.createElement("div");
                    bar.className = "bar";
                    visualizer.appendChild(bar);
                }
                
                animateVisualizer(displayBars);
            }

            function animateVisualizer(totalBars) {
                requestAnimationFrame(() => animateVisualizer(totalBars));
                analyser.getByteFrequencyData(dataArray);
                
                const barElements = document.getElementsByClassName("bar");
                const step = Math.floor(bufferLength / totalBars);
                
                for (let i = 0; i < totalBars; i++) {
                    const dataIndex = i * step;
                    const value = dataArray[dataIndex];
                    // Height calculation
                    const h = (value / 255) * 40; // Max height 40vh relative
                    if(barElements[i]) {
                        barElements[i].style.height = h + "vh";
                    }
                }
            }

            /* --- MUSIC CONTROLS (Fixed Debounce) --- */
            musicWrapper.addEventListener('mouseenter', () => {
                clearTimeout(hideVolumeTimeout);
                volumeContainer.classList.add('force-show');
            });

            musicWrapper.addEventListener('mouseleave', () => {
                // Wait 1.5 seconds before hiding
                hideVolumeTimeout = setTimeout(() => {
                    volumeContainer.classList.remove('force-show');
                }, 1500);
            });

            musicVolume.addEventListener('input', (e) => {
                bgMusic.volume = e.target.value;
            });

            musicBtn.addEventListener('click', () => {
                if(musicOn) {
                    bgMusic.pause();
                    musicBtn.classList.remove('playing');
                } else {
                    bgMusic.play();
                    musicBtn.classList.add('playing');
                }
                musicOn = !musicOn;
            });

            /* --- SCREENSHOT GALLERY --- */
            const modal = document.getElementById('gallery-modal');
            const currentImg = document.getElementById('current-img');
            let imgIndex = 0;

            document.getElementById('open-gallery-btn').addEventListener('click', () => {
                modal.classList.add('open');
                updateGallery();
            });

            document.getElementById('close-gallery').addEventListener('click', () => {
                modal.classList.remove('open');
            });

            document.getElementById('next-img').addEventListener('click', () => {
                imgIndex = (imgIndex + 1) % screenshots.length;
                updateGallery();
            });

            document.getElementById('prev-img').addEventListener('click', () => {
                imgIndex = (imgIndex - 1 + screenshots.length) % screenshots.length;
                updateGallery();
            });

            function updateGallery() {
                if(screenshots.length > 0) {
                    currentImg.src = screenshots[imgIndex];
                } else {
                    alert("No screenshots added in JS code!");
                }
            }

            /* --- LANYARD / DISCORD --- */
            fetch(`https://lanyard.rest/v1/users/${userId}`)
            .then(res => res.json())
            .then(({ data }) => {
                if(!data || !data.discord_user) return;
                
                document.getElementById('discord-pfp').src = `https://cdn.discordapp.com/avatars/${data.discord_user.id}/${data.discord_user.avatar}.png?size=512`;
                document.getElementById('status-username').textContent = data.discord_user.username;

                let statusText = "Chilling";
                let iconUrl = `https://cdn.discordapp.com/avatars/${data.discord_user.id}/${data.discord_user.avatar}.png`;
                let spin = false;

                if (data.activities && data.activities.length) {
                    const spotify = data.activities.find(a => a.type === 2);
                    const game = data.activities.find(a => a.type === 0);

                    if (spotify) {
                        statusText = `Listening to ${spotify.details}`;
                        if(spotify.assets) iconUrl = `https://i.scdn.co/image/${spotify.assets.large_image.replace("spotify:", "")}`;
                        spin = true;
                    } else if (game) {
                        statusText = `Playing ${game.name}`;
                        if(game.assets) iconUrl = `https://cdn.discordapp.com/app-assets/${game.application_id}/${game.assets.large_image}.png`;
                    }
                }

                document.getElementById('status-text').textContent = statusText;
                const sIcon = document.getElementById('status-icon');
                sIcon.src = iconUrl;
                if(spin) sIcon.classList.add('spin');
            });

            /* --- 3D TILT --- */
            const card = document.querySelector('.glass-card');
            const pfp = document.querySelector('.profile-picture');
            
            document.addEventListener('mousemove', (e) => {
                const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
                const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
                // Tilt Card
                card.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
                // Tilt PFP harder
                pfp.style.transform = `rotateY(${xAxis * 1.5}deg) rotateX(${yAxis * 1.5}deg)`;
            });

            /* --- SIDE PANEL --- */
            const sideArrow = document.getElementById('side-arrow');
            const sidePanel = document.getElementById('side-panel');
            sideArrow.addEventListener('click', () => {
                sidePanel.classList.toggle('active');
            });
        });

        /* --- OGL PARTICLES --- */
        (function() {
            if (!window.OGL) return;
            // Config
            const particleCount = 80;
            const particleColor = [1, 0, 0]; // Red RGB 0-1 range

            const renderer = new OGL.Renderer({ alpha: true });
            const gl = renderer.gl;
            document.getElementById('particles-bg').appendChild(gl.canvas);

            const camera = new OGL.Camera(gl, { fov: 35 });
            camera.position.set(0, 0, 20);

            function resize() {
                renderer.setSize(window.innerWidth, window.innerHeight);
                camera.perspective({ aspect: gl.canvas.width / gl.canvas.height });
            }
            window.addEventListener('resize', resize, false);
            resize();

            const count = particleCount;
            const positions = new Float32Array(count * 3);
            const randoms = new Float32Array(count * 4);

            for(let i=0; i<count; i++) {
                const r = 10 * Math.cbrt(Math.random());
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);
                
                positions.set([
                    r * Math.sin(phi) * Math.cos(theta),
                    r * Math.sin(phi) * Math.sin(theta),
                    r * Math.cos(phi)
                ], i*3);
                randoms.set([Math.random(), Math.random(), Math.random(), Math.random()], i*4);
            }

            const geometry = new OGL.Geometry(gl, {
                position: { size: 3, data: positions },
                random: { size: 4, data: randoms }
            });

            const program = new OGL.Program(gl, {
                vertex: `
                    attribute vec3 position;
                    attribute vec4 random;
                    uniform mat4 modelMatrix;
                    uniform mat4 viewMatrix;
                    uniform mat4 projectionMatrix;
                    uniform float uTime;
                    void main() {
                        vec3 pos = position;
                        pos.x += sin(uTime * random.x + position.y) * 0.5;
                        pos.y += cos(uTime * random.y + position.x) * 0.5;
                        vec4 glPos = projectionMatrix * viewMatrix * modelMatrix * vec4(pos, 1.0);
                        gl_Position = glPos;
                        gl_PointSize = (50.0 * random.z) / glPos.w;
                    }
                `,
                fragment: `
                    precision highp float;
                    void main() {
                        vec2 uv = gl_PointCoord.xy;
                        float d = length(uv - vec2(0.5));
                        if(d > 0.5) discard;
                        gl_FragColor = vec4(1.0, 0.0, 0.0, 0.6); // RED COLOR
                    }
                `,
                uniforms: { uTime: { value: 0 } },
                transparent: true,
                depthTest: false
            });

            const particles = new OGL.Mesh(gl, { mode: gl.POINTS, geometry, program });

            requestAnimationFrame(update);
            function update(t) {
                requestAnimationFrame(update);
                program.uniforms.uTime.value = t * 0.001;
                particles.rotation.y = t * 0.0002;
                renderer.render({ scene: particles, camera });
            }
        })();
    </script>
</body>
</html>
